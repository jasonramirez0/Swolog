{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jasonramirez/Desktop/fitness-app/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jasonramirez/Desktop/fitness-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jasonramirez/Desktop/fitness-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{Link}from'react-router-dom';import loginServices from'../services/login';import workoutServices from'../services/workouts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(_ref){var username=_ref.username,setUsername=_ref.setUsername,password=_ref.password,setPassword=_ref.setPassword,user=_ref.user,setUser=_ref.setUser,setErrorMessage=_ref.setErrorMessage,setLoggedIn=_ref.setLoggedIn;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loginSuccessful=_useState2[0],setLoginSuccessful=_useState2[1];var handleLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return loginServices.login({username:username,password:password});case 4:_user=_context.sent;console.log(_user);workoutServices.setToken(_user.token);setUsername('');setPassword('');setUser(_user);setLoggedIn(true);console.log('login successful');_context.next=19;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);console.log('login unsuccessful');setErrorMessage('Wrong credentials');setTimeout(function(){setErrorMessage(null);},5000);case 19:case\"end\":return _context.stop();}},_callee,null,[[1,14]]);}));return function handleLogin(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"username\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,name:\"Username\",onChange:function onChange(_ref3){var target=_ref3.target;return setUsername(target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"password\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:password,name:\"Password\",onChange:function onChange(_ref4){var target=_ref4.target;return setPassword(target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\" Login \"})]});};export default LoginForm;","map":{"version":3,"names":["useState","Link","loginServices","workoutServices","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","username","setUsername","password","setPassword","user","setUser","setErrorMessage","setLoggedIn","_useState","_useState2","_slicedToArray","loginSuccessful","setLoginSuccessful","handleLogin","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","_user","wrap","_callee$","_context","prev","next","preventDefault","login","sent","console","log","setToken","token","t0","setTimeout","stop","_x","apply","arguments","onSubmit","children","type","value","name","onChange","_ref3","target","_ref4"],"sources":["/Users/jasonramirez/Desktop/fitness-app/frontend/src/components/LoginForm.js"],"sourcesContent":["import { useState } from 'react'\nimport {Link} from 'react-router-dom'\nimport loginServices from '../services/login'\nimport workoutServices from '../services/workouts'\n\nconst LoginForm = ({username, setUsername, password, setPassword, user,\n\t\t    setUser, setErrorMessage, setLoggedIn}) => {\n\n    const [loginSuccessful, setLoginSuccessful] = useState(false)\n    \n    const handleLogin = async (event) => {\n\tevent.preventDefault()\n\ttry {\n\t    const user = await loginServices.login({username, password})\n\t    console.log(user)\n\t    workoutServices.setToken(user.token)\n\t    setUsername('')\n\t    setPassword('')\n\t    setUser(user)\n\t    setLoggedIn(true)\n\t    console.log('login successful')\n\t} catch(exception) {\n\t    console.log('login unsuccessful')\n\t    setErrorMessage('Wrong credentials')\n\t    setTimeout(() => {\n\t\tsetErrorMessage(null)\n\t    }, 5000)\n\t}\n    }\n    \n    return (<form onSubmit={handleLogin}>\n\t    <div>\n\t    username\n\t    <input type=\"text\" value={username} name=\"Username\"\n\t    onChange={({target}) => setUsername(target.value)}\n\t    />\t    \n\t    </div>\n\t    <div>\n\t    password\n\t    <input type=\"text\" value={password} name=\"Password\"\n\t    onChange={({target}) => setPassword(target.value)}\n\t    />\t  \n\t    </div>\n\t    \n\t    <button type=\"submit\"> Login </button>\n\t    \n\t    </form>\n\t   )\n}\n\nexport default LoginForm\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}