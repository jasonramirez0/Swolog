{"ast":null,"code":"import _slicedToArray from\"/Users/jasonramirez/Desktop/fitness-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{useEffect,useContext}from'react';import UserContext from'./UserContext';import workoutServices from'./services/workouts';import Dashboard from'./components/Dashboard';import Home from'./components/Home';import RegistrationPage from'./components/RegistrationPage';import WorkoutLogPage from'./components/WorkoutLogPage';import WorkoutHistoryPage from'./components/WorkoutHistoryPage';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){// App state variables and updater functions\nvar _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),user=_useContext2[0],userDispatch=_useContext2[1];// Gets logged-in user and token from localStorage if available */\nuseEffect(function(){var loggedUserJSON=window.localStorage.getItem('loggedFitnessAppUser');if(loggedUserJSON){console.log('logged in user found');var currentUser=JSON.parse(loggedUserJSON);userDispatch({type:'LOG IN',user:currentUser});workoutServices.setToken(currentUser.token);}},[userDispatch]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:user?/*#__PURE__*/_jsx(Dashboard,{}):/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:user?/*#__PURE__*/_jsx(WorkoutLogPage,{}):/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:user?/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/dashboard\"}):/*#__PURE__*/_jsx(RegistrationPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/workout-history\",element:user?/*#__PURE__*/_jsx(WorkoutHistoryPage,{}):/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:!user?/*#__PURE__*/_jsx(Home,{}):/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/dashboard\"})})]})})});};export default App;","map":{"version":3,"names":["BrowserRouter","Router","Routes","Route","Navigate","useEffect","useContext","UserContext","workoutServices","Dashboard","Home","RegistrationPage","WorkoutLogPage","WorkoutHistoryPage","jsx","_jsx","jsxs","_jsxs","App","_useContext","_useContext2","_slicedToArray","user","userDispatch","loggedUserJSON","window","localStorage","getItem","console","log","currentUser","JSON","parse","type","setToken","token","children","path","element","replace","to","exact"],"sources":["/Users/jasonramirez/Desktop/fitness-app/frontend/src/App.js"],"sourcesContent":["import {\n    BrowserRouter as Router,\n    Routes, Route, Navigate\n} from 'react-router-dom'\nimport { useEffect, useContext } from 'react'\nimport UserContext from './UserContext'\nimport workoutServices from './services/workouts'\nimport Dashboard from './components/Dashboard'\nimport Home from './components/Home'\nimport RegistrationPage from './components/RegistrationPage'\nimport WorkoutLogPage from './components/WorkoutLogPage'\nimport WorkoutHistoryPage from './components/WorkoutHistoryPage'\n\nimport './index.css'\n\nconst App = () => {\n    // App state variables and updater functions\n    let [user, userDispatch] = useContext(UserContext)\n\t// Gets logged-in user and token from localStorage if available */\n\tuseEffect(() => {\n\t\tconst loggedUserJSON = window.localStorage.getItem('loggedFitnessAppUser');\n\t\tif (loggedUserJSON) {\n\t\t\tconsole.log('logged in user found')\n\t\t\tconst currentUser = JSON.parse(loggedUserJSON);\n\t\t\tuserDispatch({ type: 'LOG IN', user: currentUser });\n\t\t\tworkoutServices.setToken(currentUser.token);\n\t\t}\n\t  }, [userDispatch])\n\n    return (\n\t\t<div>\n\t\t\t<Router>\t        \n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"/dashboard\" element ={\n\t\t\t\t\t\tuser ? ( <Dashboard /> ) : ( <Navigate replace to={\"/\"} /> )\n\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"/user\" element={\n\t\t\t\t\t\tuser ? ( <WorkoutLogPage /> ) : ( <Navigate replace to={\"/\"} /> )\n\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"/register\" element={\n\t\t\t\t\t\tuser ? ( <Navigate replace to={\"/dashboard\"} /> ) : ( <RegistrationPage /> )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"/workout-history\" element={\n\t\t\t\t\t\tuser ? ( <WorkoutHistoryPage /> ) : ( <Navigate replace to={\"/\"} /> )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route exact path=\"/\" element={\n\t\t\t\t\t\t!user ? ( <Home /> ) : ( <Navigate replace to={\"/dashboard\"} /> )\n\t\t\t\t\t}\n\t\t\t\t\t/> \n\t\t\t\t</Routes>\n\t\t\t</Router>\n\t\t</div>\n    )\n}\n\nexport default App\n"],"mappings":"sIAAA,OACIA,aAAa,GAAI,CAAAC,MAAM,CACvBC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KACpB,kBAAkB,CACzB,OAASC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC7C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,eAAe,KAAM,qBAAqB,CACjD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,gBAAgB,KAAM,+BAA+B,CAC5D,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,CAAAC,kBAAkB,KAAM,iCAAiC,CAEhE,MAAO,aAAa,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpB,GAAM,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAA,CAAS,CACd;AACA,IAAAC,WAAA,CAA2Bb,UAAU,CAACC,WAAW,CAAC,CAAAa,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAA7CG,IAAI,CAAAF,YAAA,IAAEG,YAAY,CAAAH,YAAA,IAC1B;AACAf,SAAS,CAAC,UAAM,CACf,GAAM,CAAAmB,cAAc,CAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,sBAAsB,CAAC,CAC1E,GAAIH,cAAc,CAAE,CACnBI,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC,CACnC,GAAM,CAAAC,WAAW,CAAGC,IAAI,CAACC,KAAK,CAACR,cAAc,CAAC,CAC9CD,YAAY,CAAC,CAAEU,IAAI,CAAE,QAAQ,CAAEX,IAAI,CAAEQ,WAAY,CAAC,CAAC,CACnDtB,eAAe,CAAC0B,QAAQ,CAACJ,WAAW,CAACK,KAAK,CAAC,CAC5C,CACC,CAAC,CAAE,CAACZ,YAAY,CAAC,CAAC,CAEjB,mBACFR,IAAA,QAAAqB,QAAA,cACCrB,IAAA,CAACd,MAAM,EAAAmC,QAAA,cACNnB,KAAA,CAACf,MAAM,EAAAkC,QAAA,eACNrB,IAAA,CAACZ,KAAK,EAACkC,IAAI,CAAC,YAAY,CAACC,OAAO,CAC/BhB,IAAI,cAAKP,IAAA,CAACN,SAAS,IAAG,cAAOM,IAAA,CAACX,QAAQ,EAACmC,OAAO,MAACC,EAAE,CAAE,GAAI,EACvD,EACC,cACFzB,IAAA,CAACZ,KAAK,EAACkC,IAAI,CAAC,OAAO,CAACC,OAAO,CAC1BhB,IAAI,cAAKP,IAAA,CAACH,cAAc,IAAG,cAAOG,IAAA,CAACX,QAAQ,EAACmC,OAAO,MAACC,EAAE,CAAE,GAAI,EAC5D,EACC,cACFzB,IAAA,CAACZ,KAAK,EAACkC,IAAI,CAAC,WAAW,CAACC,OAAO,CAC9BhB,IAAI,cAAKP,IAAA,CAACX,QAAQ,EAACmC,OAAO,MAACC,EAAE,CAAE,YAAa,EAAG,cAAOzB,IAAA,CAACJ,gBAAgB,IACtE,EACA,cACFI,IAAA,CAACZ,KAAK,EAACkC,IAAI,CAAC,kBAAkB,CAACC,OAAO,CACrChB,IAAI,cAAKP,IAAA,CAACF,kBAAkB,IAAG,cAAOE,IAAA,CAACX,QAAQ,EAACmC,OAAO,MAACC,EAAE,CAAE,GAAI,EAC/D,EACA,cACFzB,IAAA,CAACZ,KAAK,EAACsC,KAAK,MAACJ,IAAI,CAAC,GAAG,CAACC,OAAO,CAC5B,CAAChB,IAAI,cAAKP,IAAA,CAACL,IAAI,IAAG,cAAOK,IAAA,CAACX,QAAQ,EAACmC,OAAO,MAACC,EAAE,CAAE,YAAa,EAC5D,EACC,GACM,EACD,EACJ,CAER,CAAC,CAED,cAAe,CAAAtB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}