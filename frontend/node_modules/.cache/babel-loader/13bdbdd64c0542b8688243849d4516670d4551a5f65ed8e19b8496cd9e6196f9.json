{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jasonramirez/Desktop/fitness-app/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jasonramirez/Desktop/fitness-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jasonramirez/Desktop/fitness-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext}from'react';import ErrorMessageContext from'../ErrorMessageContext';import registrationServices from'../services/register';import Header from'./Header';import Notification from'./Notification';import'./RegistrationPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegistrationPage=function RegistrationPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useContext=useContext(ErrorMessageContext),_useContext2=_slicedToArray(_useContext,2),errorMessage=_useContext2[0],errorMessageDispatch=_useContext2[1];var handleRegistration=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();//Checks that all fields are entered\nif(!(username.trim().length===0||name.trim().length===0||password.trim().length===0)){_context.next=6;break;}errorMessageDispatch({type:\"SET_ERROR\",message:\"all fields are required\"});return _context.abrupt(\"return\");case 6:_context.prev=6;_context.next=9;return registrationServices.register({username:username,name:name,password:password});case 9:user=_context.sent;console.log('user registered successfully');_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](6);errorMessageDispatch({type:\"SET_ERROR\",message:\"username already in use\"});console.log('error registering user');case 17:case\"end\":return _context.stop();}},_callee,null,[[6,13]]);}));return function handleRegistration(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"registration-page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header-title\",children:\"Start Swologging\"}),/*#__PURE__*/_jsx(\"div\",{className:\"registration-form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegistration,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,name:\"name\",onChange:function onChange(_ref2){var target=_ref2.target;return setName(target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,name:\"username\",onChange:function onChange(_ref3){var target=_ref3.target;return setUsername(target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:password,name:\"password\",onChange:function onChange(_ref4){var target=_ref4.target;return setPassword(target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]})}),/*#__PURE__*/_jsx(Notification,{})]})]});};export default RegistrationPage;","map":{"version":3,"names":["useState","useContext","ErrorMessageContext","registrationServices","Header","Notification","jsx","_jsx","jsxs","_jsxs","RegistrationPage","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","username","setUsername","_useState5","_useState6","password","setPassword","_useContext","_useContext2","errorMessage","errorMessageDispatch","handleRegistration","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","user","wrap","_callee$","_context","prev","next","preventDefault","trim","length","type","message","abrupt","register","sent","console","log","t0","stop","_x","apply","arguments","className","children","onSubmit","htmlFor","value","onChange","_ref2","target","_ref3","_ref4"],"sources":["/Users/jasonramirez/Desktop/fitness-app/frontend/src/components/RegistrationPage.js"],"sourcesContent":["import { useState, useContext } from 'react'\nimport ErrorMessageContext from '../ErrorMessageContext'\nimport registrationServices from '../services/register'\nimport Header from './Header'\nimport Notification from './Notification'\nimport './RegistrationPage.css'\n\nconst RegistrationPage = () => {\n    const [name, setName] = useState('')\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [errorMessage, errorMessageDispatch] = useContext(ErrorMessageContext)\n    \n    const handleRegistration = async (event) => {\n      event.preventDefault()\n\n      //Checks that all fields are entered\n      if (username.trim().length === 0 || name.trim().length === 0 || password.trim().length === 0) {\n        errorMessageDispatch( {type: \"SET_ERROR\", message: \"all fields are required\"} )\n        return\n      }\n      else {\n        try {\n          const user = await registrationServices.register({ username, name, password })\n          console.log('user registered successfully')\n        } catch (exception) {\n          errorMessageDispatch( {type: \"SET_ERROR\", message: \"username already in use\"} )\n          console.log('error registering user')   \n        }\n      }\n    }\n\n    return (\n      <div className=\"registration-page\">\n        <Header />\n        <div className=\"page-container\">\n          <h1 className=\"header-title\">Start Swologging</h1>\n          <div className=\"registration-form-container\">\n            <form onSubmit={handleRegistration}>\n              <div className=\"form-group\">\n                <label htmlFor=\"name\">Name</label>\n                <input\n                  type=\"text\"\n                  value={name}\n                  name=\"name\"\n                  onChange={({ target }) => setName(target.value)}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"username\">Username</label>\n                <input\n                  type=\"text\"\n                  value={username}\n                  name=\"username\"\n                  onChange={({ target }) => setUsername(target.value)}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  type=\"text\"\n                  value={password}\n                  name=\"password\"\n                  onChange={({ target }) => setPassword(target.value)}\n                />\n              </div>\n              <button type=\"submit\">Register</button>\n            </form>\n          </div>\n          <Notification />\n        </div>\n\t    </div>\n  )\n}\nexport default RegistrationPage\n    \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}