{"ast":null,"code":"import _slicedToArray from\"/Users/jasonramirez/Desktop/fitness-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import UserSidebar from'../components/UserSidebar';import workoutServices from'../services/workouts';import exerciseServices from'../services/exercises';import'./WorkoutHistoryPage.css';import maleHumanBodyImage from'../maleHumanBodyImage.png';import maleHumanBodyMap from'../maleHumanBody.map';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WorkoutHistoryPage=function WorkoutHistoryPage(_ref){var setLoggedIn=_ref.setLoggedIn;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openDropdown=_useState2[0],setOpenDropdown=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),prevWorkouts=_useState4[0],setPrevWorkouts=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedWorkout=_useState6[0],setSelectedWorkout=_useState6[1];var handleDropdownClick=function handleDropdownClick(){setOpenDropdown(!openDropdown);workoutServices.get().then(function(userWorkouts){console.log(userWorkouts);setPrevWorkouts(userWorkouts);});console.log(prevWorkouts);};var handleSelectedWorkoutChange=function handleSelectedWorkoutChange(event){console.log(\"event \".concat(event.target.value));setSelectedWorkout(prevWorkouts.at(event.target.value.toString()));};var Dropdown=function Dropdown(_ref2){var open=_ref2.open,trigger=_ref2.trigger;return/*#__PURE__*/_jsxs(_Fragment,{children:[trigger,open?/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"select\",{name:\"previous-workouts\",id:\"previous-workouts\",value:selectedWorkout,onChange:handleSelectedWorkoutChange,children:prevWorkouts.map(function(workout,index){return/*#__PURE__*/_jsxs(\"option\",{value:index,children:[\" \",workout.createdAt,\" \"]});})})}):null]});};var HumanBody=function HumanBody(){var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),imageMap=_useState8[0],setImageMap=_useState8[1];useEffect(function(){fetch(maleHumanBodyMap).then(function(response){return response.text();}).then(function(mapData){var mapJson=convertMapFileToJson(mapData);setImageMap(mapJson);}).catch(function(error){console.error('Error loading map file:',error);});},[]);var convertMapFileToJson=function convertMapFileToJson(mapData){var shapeRegex=/<area[^>]+>/g;var coordsRegex=/coords=\"([^\"]+)\"/;var hrefRegex=/href=\"([^\"]+)\"/;var shapes=mapData.match(shapeRegex);var imageMapData=shapes.map(function(shape){var coordsMatch=shape.match(coordsRegex);var hrefMatch=shape.match(hrefRegex);var coords=coordsMatch?coordsMatch[1].split(','):[];var href=hrefMatch?hrefMatch[1]:'';return{shape:'poly',// Specify the shape type here (rect, circle, poly, etc.)\ncoords:coords.map(Number),href:href};});return imageMapData;};return/*#__PURE__*/_jsxs(\"div\",{className:\"image-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:maleHumanBodyImage,alt:\"Male Human Body\"})}),/*#__PURE__*/_jsx(\"svg\",{className:\"highlight\",viewBox:\"0 0 500 500\",style:{top:'240px',left:'350px',width:'110px',height:'90px'},children:/*#__PURE__*/_jsx(\"polygon\",{points:\"5,355 250,250 475,100 465,365 325,425\",fill:\"red\",stroke:\"red\",strokeWidth:\"2\"})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"wh-main\",children:[/*#__PURE__*/_jsx(UserSidebar,{setLoggedIn:setLoggedIn}),/*#__PURE__*/_jsxs(\"div\",{className:\"prev-workouts\",children:[/*#__PURE__*/_jsx(Dropdown,{open:openDropdown,trigger:/*#__PURE__*/_jsx(\"button\",{onClick:handleDropdownClick,children:\" Previous Workouts \"})}),selectedWorkout===null?/*#__PURE__*/_jsx(\"label\",{children:\" Choose a workout  \"}):/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"labels\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\" Exercise \"}),/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\" Sets \"}),/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\" Reps \"})]}),selectedWorkout.clusters.map(function(cluster){return/*#__PURE__*/_jsxs(\"li\",{className:\"labels\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[\" \",cluster.exercise,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[\" \",cluster.sets,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[\" \",cluster.reps,\" \"]})]});})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"human-body\",children:/*#__PURE__*/_jsx(HumanBody,{})})]});};export default WorkoutHistoryPage;","map":{"version":3,"names":["useState","useEffect","UserSidebar","workoutServices","exerciseServices","maleHumanBodyImage","maleHumanBodyMap","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","WorkoutHistoryPage","_ref","setLoggedIn","_useState","_useState2","_slicedToArray","openDropdown","setOpenDropdown","_useState3","_useState4","prevWorkouts","setPrevWorkouts","_useState5","_useState6","selectedWorkout","setSelectedWorkout","handleDropdownClick","get","then","userWorkouts","console","log","handleSelectedWorkoutChange","event","concat","target","value","at","toString","Dropdown","_ref2","open","trigger","children","name","id","onChange","map","workout","index","createdAt","HumanBody","_useState7","_useState8","imageMap","setImageMap","fetch","response","text","mapData","mapJson","convertMapFileToJson","catch","error","shapeRegex","coordsRegex","hrefRegex","shapes","match","imageMapData","shape","coordsMatch","hrefMatch","coords","split","href","Number","className","src","alt","viewBox","style","top","left","width","height","points","fill","stroke","strokeWidth","onClick","clusters","cluster","exercise","sets","reps"],"sources":["/Users/jasonramirez/Desktop/fitness-app/frontend/src/components/WorkoutHistoryPage.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport UserSidebar from '../components/UserSidebar'\nimport workoutServices from '../services/workouts'\nimport exerciseServices from '../services/exercises'\nimport './WorkoutHistoryPage.css'\n\nimport maleHumanBodyImage from '../maleHumanBodyImage.png'\nimport maleHumanBodyMap from '../maleHumanBody.map'\n\nconst WorkoutHistoryPage = ({setLoggedIn}) => {\n    \n    const [openDropdown, setOpenDropdown] = useState(false)\n    const [prevWorkouts, setPrevWorkouts] = useState([])\n    const [selectedWorkout, setSelectedWorkout] = useState(null)\n    \n    const handleDropdownClick = () => {\n\tsetOpenDropdown(!openDropdown)\n\tworkoutServices.get().then(userWorkouts => {\t\t\n\t    console.log(userWorkouts)\n\t    setPrevWorkouts(userWorkouts)\n\t})\n\tconsole.log(prevWorkouts)\t    \n    }\n\n    const handleSelectedWorkoutChange = (event) => {\n\tconsole.log(`event ${event.target.value}`)\n\tsetSelectedWorkout(prevWorkouts.at(event.target.value.toString()))\n    }\n\n    const Dropdown = ({open, trigger}) => {\n\treturn (\n\t        <>\n\t\t    {trigger}\n\t            {open ? (\n\t\t    <ul>\n\t\t\t    <select name=\"previous-workouts\" id=\"previous-workouts\" value={selectedWorkout} onChange={handleSelectedWorkoutChange}>\n\t\t\t    {prevWorkouts.map((workout, index) =>\n\t\t\t\t    <option value={index}> {workout.createdAt} </option>)}\n\t\t        </select>\n\t\t    </ul>\n\t            ) : null}\n\t        </>\n\t    )\n    }\n\n    const HumanBody = () => {\n\tconst [imageMap, setImageMap] = useState([])\n\n\t useEffect(() => {\n\t     fetch(maleHumanBodyMap)\n\t\t .then((response) => response.text())\n\t\t .then((mapData) => {\n\t\t     const mapJson = convertMapFileToJson(mapData);\n\t\t     setImageMap(mapJson);\n\t\t })\n\t\t .catch((error) => {\n\t\t     console.error('Error loading map file:', error);\n\t\t });\n\t }, []);\n\n\t\n\t const convertMapFileToJson = (mapData) => {\n\t     const shapeRegex = /<area[^>]+>/g;\n\t     const coordsRegex = /coords=\"([^\"]+)\"/;\n\t     const hrefRegex = /href=\"([^\"]+)\"/;\n\n\t     const shapes = mapData.match(shapeRegex);\n\t     const imageMapData = shapes.map((shape) => {\n\t\t const coordsMatch = shape.match(coordsRegex);\n\t\t const hrefMatch = shape.match(hrefRegex);\n\n\t\t const coords = coordsMatch ? coordsMatch[1].split(',') : [];\n\t\t const href = hrefMatch ? hrefMatch[1] : '';\n\n\t\t return {\n\t\t     shape: 'poly', // Specify the shape type here (rect, circle, poly, etc.)\n\t\t     coords: coords.map(Number),\n\t\t     href,\n\t\t };\n\t     });\n\n\t     return imageMapData;\n\t };\n\n\t\n\treturn (\n\t\t<div className=\"image-container\">\n\t\t<div className=\"image-wrapper\">\n\t\t    <img src={maleHumanBodyImage} alt=\"Male Human Body\"/>\n\t\t</div>\n\t\t<svg className=\"highlight\" viewBox=\"0 0 500 500\"\n\t    style={{\t\t\n\t\ttop: '240px',\n\t\tleft: '350px',\n\t\twidth: '110px',\n\t\theight: '90px'\n\t    }}\n\t\t>\n\t\t<polygon\n\t    points=\"5,355 250,250 475,100 465,365 325,425\"\n\t    fill=\"red\"\n\t    stroke=\"red\"\n\t    strokeWidth=\"2\"\n\t    />\t    \n\t    </svg>\n\t</div>\n\t)\n    }\n    \n    return (\n\t    <div className=\"wh-main\">\n\t    <UserSidebar setLoggedIn={setLoggedIn}/>\t    \t    \n\t    <div className=\"prev-workouts\">\n\t    <Dropdown\n\t        open={openDropdown}\n\t        trigger={<button onClick={handleDropdownClick}> Previous Workouts </button>}\n\t    />\n\t    {selectedWorkout === null ? <label> Choose a workout  </label> :\n\t     <ul>\n\t     <li className=\"labels\">\n\t     <span className=\"label\"> Exercise </span>\n\t     <span className=\"label\"> Sets </span>\n\t     <span className=\"label\"> Reps </span>\n\t     </li>\n\t     {selectedWorkout.clusters.map(cluster =>\n\t\t     <li className=\"labels\">\n\t\t     <span className=\"label\"> {cluster.exercise} </span>\n\t\t     <span className=\"label\"> {cluster.sets} </span>\n\t\t     <span className=\"label\"> {cluster.reps} </span>\n\t\t     </li>\n\t     )\n\t     }\n\t     </ul>\n\t     }\n\t    \n\t</div>\n\t    <div className=\"human-body\">\n\t    <HumanBody />\n\t    </div>\n\t</div>\n\t   )\n}\n\nexport default WorkoutHistoryPage\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}